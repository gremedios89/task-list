<div class="h-screen w-full px-10 bg-white">
    <div class="relative">
      <i 
        data-feather="plus-square" 
        class="absolute left-3 top-[80%] transform -translate-y-1/2 text-blue-400 pointer-events-none"
      ></i>

      <form [formGroup]="taskForm">
        <input
          formControlName="task"
          #taskInput
          type="text"
          class="w-full h-12 mt-14 pl-14 bg-gray-50 border-0 outline-none focus:cursor-text focus:ring-0 transition-all"
          [ngClass]="{'text-black' : isFocused, 'text-gray-600' : !isFocused }"
          placeholder="Type to add new task"
          (focus)="onFocus()"
        />
      </form>
  
      <img 
        src="https://randomuser.me/api/portraits/men/1.jpg" 
        alt="Avatar"
        class="absolute right-3 top-[80%] transform -translate-y-1/2 w-8 h-8 rounded-full"
        [ngClass]="{
            'opacity-100': taskForm.get('task')?.value,
            'opacity-60': !taskForm.get('task')?.value,
            'border': taskForm.get('task')?.value,
        }"
        />

       @if (isFocused) {
        <div class="absolute w-full mt-2 bg-white shadow-lg rounded-md p-2 border-t-1 border-gray-400">
            <div class="flex space-x-1">
              <button 
              class="bg-gray-100 text-gray-400 px-5 py-2 mr-8 rounded-md"
              [ngClass]="{'text-black': taskForm.get('task')?.value, 'text-gray-400': !taskForm.get('task')?.value}">
                <i 
                    data-feather="maximize-2" 
                    class="absolute left-5 top-[50%] transform -translate-y-1/2 text-gray-400 pointer-events-none"
                ></i>
                <span class="ml-8">Open</span>
              </button>
              <button class="bg-white text-gray-400 px-4 py-2 rounded-md border border-gray-400">
                <i 
                    data-feather="calendar" 
                    class="absolute left top-[50%] transform -translate-y-1/2 text-gray-400 pointer-events-none"
                ></i>
                <span class="ml-8">Today</span>
              </button>
              <button class="bg-white text-gray-400 px-4 py-2 rounded-md border border-gray-400">
                <i 
                    data-feather="unlock" 
                    class="absolute left top-[50%] transform -translate-y-1/2 text-gray-400 pointer-events-none"
                ></i>
                <span class="ml-8">Public</span>
              </button>
              <button class="bg-white text-gray-400 px-4 py-2 rounded-md border border-gray-400">
                <i 
                    data-feather="loader" 
                    class="absolute left top-[50%] transform -translate-y-1/2 text-gray-400 pointer-events-none"
                ></i>
                <span class="ml-8">Highlight</span>
              </button>
              <button class="bg-white text-gray-400 px-4 py-2 rounded-md border border-gray-400">
                <i 
                    data-feather="disc" 
                    class="absolute left top-[50%] transform -translate-y-1/2 text-gray-400 pointer-events-none"
                ></i>
                <span class="ml-8">Estimation</span>
              </button>
      
              <div class="actions space-x-2">
                <button type="button" class="bg-gray-100 text-black px-4 py-2 rounded-md" (click)="hideButtons()">
                  <span class="px-2">Cancel</span>
                </button>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md" (click)="addTask()">
                  <span class="px-2">Ok</span>
                </button>
              </div>          
            </div>
          </div>
       }
    </div>
    <mat-list [ngStyle]="{'margin-top' : isFocused ? '6%' : '0'}">
        <mat-list-item style="padding-left: 0;" *ngFor="let task of tasks" class="flex items-center justify-between">
          <mat-checkbox class="mr-4">
            {{ task.name }}
          </mat-checkbox>
        </mat-list-item>
    </mat-list>
</div>